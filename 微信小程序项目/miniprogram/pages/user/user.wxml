<view class="container" style="padding-top: {{paddingTop}}px;">
  
  <view class="user-header">
    <view class="user-basic-info">
      <view class="avatar-box">
        <image wx:if="{{userInfo.avatarUrl}}" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
        <view wx:else class="avatar-text">User</view>
      </view>
      <view class="text-info">
        <view class="nickname">{{userInfo.nickName}}</view>
        <view class="user-id">ID: 88291034</view>
      </view>
    </view>
    <view class="qr-btn" bindtap="onMemberCode">
      <text>ä¼šå‘˜ç </text>
    </view>
  </view>

  <swiper 
    class="member-swiper" 
    current="{{currentSwiperIndex}}" 
    previous-margin="30rpx" 
    next-margin="30rpx"
    duration="500"
    bindchange="onSwiperChange"
  >
    <block wx:for="{{levelList}}" wx:key="level">
      <swiper-item class="swiper-item-wrapper">
        <view class="member-card {{item.className}}">
          
          <view class="card-bg-pattern"></view>
          
          <view class="current-tag" wx:if="{{index === userLevelIndex}}">å½“å‰ç­‰çº§</view>
          <view class="lock-tag" wx:if="{{index > userLevelIndex}}">æœªè§£é”</view>

          <view class="card-top">
            <view class="level-badge">
              <text class="en-font">Lv.{{item.level}}</text>
              <text class="cn-font">{{item.name}}</text>
            </view>
          </view>

          <view class="card-middle">
            <view class="benefits-row">
              <text wx:for="{{item.benefits}}" wx:for-item="benefit" wx:key="*this" class="benefit-pill">{{benefit}}</text>
            </view>
          </view>

          <view class="card-bottom">
            <view wx:if="{{index === userLevelIndex}}">
              <view class="prog-text" wx:if="{{index < 4}}">
                å†æ¶ˆè´¹ <text class="num">Â¥{{nextLevelSpend}}</text> å‡çº§
              </view>
              <view class="prog-text" wx:else>å·²è¾¾æœ€é«˜ç­‰çº§</view>
            </view>
            <view wx:elif="{{index < userLevelIndex}}">
               <view class="prog-text">æ‚¨å·²è¶…è¶Šè¯¥ç­‰çº§</view>
            </view>
             <view wx:else>
               <view class="prog-text">ç»§ç»­æ¢ç´¢ä»¥è§£é”å°Šè´µæƒç›Š</view>
            </view>
          </view>

        </view>
      </swiper-item>
    </block>
  </swiper>

  <view class="section-card stats-card">
    <view class="stat-item" bindtap="onGoToPointHistory">
      <view class="stat-num">{{stats.points}}</view>
      <view class="stat-label">æˆ‘çš„ç§¯åˆ†</view>
    </view>
    <view class="stat-line"></view>
    <view class="stat-item" bindtap="onGoToCoupons">
      <view class="stat-num">{{stats.coupons}}</view>
      <view class="stat-label">ä¼˜æƒ åˆ¸</view>
    </view>
    <view class="stat-line"></view>
    <view class="stat-item" bindtap="onGoToWallet">
      <view class="stat-num">{{stats.wallet}}</view>
      <view class="stat-label">ä½™é¢</view>
    </view>
  </view>

  <view class="section-card orders-card">
    <view class="section-header" bindtap="onGoToOrders" data-type="0">
      <text class="section-title">æˆ‘çš„è®¢å•</text>
      <view class="section-more">å…¨éƒ¨è®¢å• <text class="arrow">â€º</text></view>
    </view>
    
    <view class="order-icons-row">
      <view class="order-icon-item" bindtap="onGoToOrders" data-type="1">
        <view class="icon-emoji">ğŸ’³</view>
        <text class="icon-label">å¾…ä»˜æ¬¾</text>
      </view>
      <view class="order-icon-item" bindtap="onGoToOrders" data-type="2">
        <view class="icon-emoji">ğŸ“¦</view>
        <text class="icon-label">å¾…å‘è´§</text>
      </view>
      <view class="order-icon-item" bindtap="onGoToOrders" data-type="3">
        <view class="icon-emoji">ğŸšš</view>
        <text class="icon-label">å¾…æ”¶è´§</text>
      </view>
      <view class="order-icon-item" bindtap="onGoToOrders" data-type="4">
        <view class="icon-emoji">ğŸ§</view>
        <text class="icon-label">é€€æ¢/å”®å</text>
      </view>
    </view>
  </view>

  <view class="section-card menu-card">
    <view class="menu-item" bindtap="onGoToPointShop">
      <view class="menu-left">
        <text class="menu-icon">ğŸ</text>
        <text class="menu-text">ç§¯åˆ†å•†åŸ</text>
      </view>
      <text class="arrow">â€º</text>
    </view>
    <view class="menu-item" bindtap="onGoToCart">
      <view class="menu-left">
        <text class="menu-icon">ğŸ›ï¸</text>
        <text class="menu-text">æˆ‘çš„è´­ç‰©è¢‹</text>
      </view>
      <text class="arrow">â€º</text>
    </view>
    <view class="menu-item" bindtap="onGoToAdmin">
      <view class="menu-left">
        <text class="menu-icon">âš™ï¸</text>
        <text class="menu-text">åå°ç®¡ç† (Dev)</text>
      </view>
      <text class="arrow">â€º</text>
    </view>
  </view>

  <view class="footer-spacer"></view>
</view>