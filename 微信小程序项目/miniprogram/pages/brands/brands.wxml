<view class="container">
  
  <view class="search-header">
    <view class="search-bar">
      <icon type="search" size="14" color="#b2b2b2"></icon>
      
      <input 
        class="search-input" 
        placeholder="æœç´¢å“ç‰Œ" 
        placeholder-class="ph-style"
        value="{{searchQuery}}"
        bindinput="onSearchInput"
        confirm-type="search"
      />
      
      <view class="clear-btn" wx:if="{{searchQuery}}" bindtap="onClearSearch">
        <icon type="clear" size="14" color="#ccc"></icon>
      </view>
    </view>
  </view>

  <view class="main-body">
    
    <scroll-view class="nav-left" scroll-y>
      <view 
        class="nav-item {{index === curIndex && !isSearching ? 'active' : ''}}" 
        wx:for="{{categories}}" 
        wx:key="id"
        bindtap="switchCategory"
        data-index="{{index}}"
      >
        <view class="active-line" wx:if="{{index === curIndex && !isSearching}}"></view>
        <text>{{item.name}}</text>
      </view>
    </scroll-view>

    <scroll-view class="content-right" scroll-y scroll-top="{{scrollTop}}">
      
      <view class="category-banner">
        <text>{{isSearching ? 'æœç´¢ç»“æœ (' + currentList.length + ')' : categories[curIndex].name}}</text>
      </view>

      <view class="brand-grid">
        <block wx:if="{{currentList.length > 0}}">
          <view 
            class="brand-card" 
            wx:for="{{currentList}}" 
            wx:key="name"
            bindtap="onBrandClick"
            data-name="{{item.name}}"
          >
            <view class="logo-box">
              <image wx:if="{{item.logo}}" src="{{item.logo}}" mode="aspectFit"></image>
              <text wx:else class="logo-txt">{{item.name[0]}}</text>
            </view>
            <view class="brand-name">{{item.name}}</view>
          </view>
        </block>
        
        <view wx:else class="empty-tip">
          æœªæ‰¾åˆ°ç›¸å…³å“ç‰Œ
        </view>
      </view>
      
      <view style="height: 100rpx;"></view>
    </scroll-view>

  </view>

  <view class="float-btns">
    <view class="float-btn" bindtap="goToCart">
      <text>ğŸ›’</text>
    </view>
    <view class="float-btn chat">
      <text>ğŸ’¬</text>
    </view>
  </view>

</view>